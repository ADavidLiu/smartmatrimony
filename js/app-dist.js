"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Header=function t(){var e=this;_classCallCheck(this,t),this.toggleHeader=function(){e._$body.toggleClass("u-no-scroll"),e._$header.toggleClass("header--active")},this._$window=$(window),this._$body=$("body"),this._$header=$(".header"),this._$menuItem=$(".menu__item"),this._$btn=$(".header__btn"),this._$btn.click(this.toggleHeader),this._$menuItem.click(function(){e._$window.width()<768&&e.toggleHeader()})},ScrollManager=function t(){var s=this;_classCallCheck(this,t),this.scroll=function(t){var e=$(t.currentTarget),i=e.attr("data-scroll-to"),a=$('[data-scroll-target="'+i+'"]');switch(e.attr("data-scroll-limit")){case"mobile":s._$window.innerWidth()<768&&$.scrollTo(a,500);break;case"desktop":768<=s._$window.innerWidth()&&$.scrollTo(a,500);break;default:$.scrollTo(a,500)}},this._$window=$(window),this._$trigger=$("[data-scroll-to]"),this._$trigger.click(this.scroll)},PopupManager=function t(){var e=this;_classCallCheck(this,t),this.closePopup=function(){e._$popups.removeClass("popup--active")},this.togglePopup=function(t){t.preventDefault(),t.stopPropagation();var e=$(t.currentTarget).attr("data-popup-trigger");$('[data-popup-target="'+e+'"]').toggleClass("popup--active")},this._$popups=$(".popup"),this._$trigger=$("[data-popup-trigger]"),this._$inner=$(".popup__inner"),this._$content=$(".popup__content"),this._$trigger.click(this.togglePopup),this._$inner.click(this.closePopup),this._$content.click(function(t){t.stopPropagation()})},MessagesPopupManager=function(t){function e(){_classCallCheck(this,e);var i=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.fillData=function(t){var e=$(t.currentTarget).attr("data-profile-name");i._$name.text(e)},i._$name=$(".message-popup__name"),i._$trigger.click(i.togglePopup),i._$trigger.click(i.fillData),i}return _inherits(e,PopupManager),e}(),FavouritesPopupManager=function(t){function e(){_classCallCheck(this,e);var a=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.fillData=function(t){var e=$(t.currentTarget),i=e.attr("data-profile-name");a._$name.text(i),e.hasClass("card__btn--star")&&(e.hasClass("card__btn--favourite")?(e.removeClass("card__btn--favourite"),a._$action.text("REMOVED")):(e.addClass("card__btn--favourite"),a._$action.text("ADDED")))},a._$name=$(".favourite-popup__name"),a._$action=$(".favourite-popup__state"),a._$trigger.click(a.togglePopup),a._$trigger.click(a.fillData),a}return _inherits(e,PopupManager),e}(),Slider=function t(e,i){_classCallCheck(this,t),this._$slider=e,this._$slider.slick(_extends({dots:!1,arrows:!1,autoplay:!0},i))},Notice=function t(){var e=this;_classCallCheck(this,t),this.closeNotice=function(){e._$notice.addClass("notice--dismissed")},this._$notice=$(".notice"),this._$close=$(".notice__close"),this._$close.click(this.closeNotice)},Filters=function t(){var i=this;_classCallCheck(this,t),this.changeRangeValues=function(t){var e=$(t.currentTarget).val();$("[data-filters-distance]").text(e.toString())},this.changeUI=function(t,e){var i=void 0;if(t.includes("-")){var a=t.split("-")[0];i=$('[data-filters-tag="'+a+'"]')}else i=$('[data-filters-tag="'+t+'"]');i.addClass("filters__bar-tag--active");var s=$('[data-filters-target="'+t+'"]');"location"===t&&""!=e.toString()&&(e+=","),s.text(e.toString())},this.checkTags=function(){$("[data-filters-target]").each(function(t){var e=$(this),i=e.parents(".filters__bar-tag");if(0<e.siblings("[data-filters-target]").length){var a=e.siblings("[data-filters-target]");i.removeClass("filters__bar-tag--active"),""!=e.text()&&"Any"!=e.text()&&"Minimum?"!=e.text()&&"Maximum?"!=e.text()&&"0"!=e.text()?i.addClass("filters__bar-tag--active"):""!=a.text()&&"Any"!=a.text()&&"Minimum?"!=a.text()&&"Maximum?"!=a.text()&&"0"!=a.text()&&i.addClass("filters__bar-tag--active")}else""!=e.text()&&"Any"!=e.text()&&"Minimum?"!=e.text()&&"Maximum?"!=e.text()&&"0"!=e.text()?i.addClass("filters__bar-tag--active"):i.removeClass("filters__bar-tag--active")}),0<$(".filters__bar-tag--active").length?i._$btnClear.addClass("filters__clear--active"):i._$btnClear.removeClass("filters__clear--active")},this.resetInput=function(t){t.children("[data-filters-target]").each(function(t){var e=$(this).attr("data-filters-target"),i=$('[data-filters-trigger="'+e+'"]'),a=i.attr("data-placeholder");i.is(".dropdown__input-value")?i.text(a):i.is("[type='range']")?(i.val(0),$("[data-filters-distance]").text("0")):i.val("")})},this.resetAllInputs=function(){i._$allInputs.each(function(t){var e=$(this),i=e.attr("data-placeholder");e.is(".dropdown__input-value")?e.text(i):e.is("[type='range']")?(e.val(0),$("[data-filters-distance]").text("0")):e.val("")})},this.applyFilters=function(t){t.preventDefault();var s=i;i._$allInputs.each(function(t){var e=$(this),i=e.attr("data-filters-trigger"),a=void 0;a=e.is(".dropdown__input-value")?e.text():e.val(),s.changeUI(i,a)}),i.checkTags(),i.toggleControls()},this.checkClearBtnVisibility=function(){i._$tagsList.children(".filters__bar-tag").length<=0?i._$btnClear.removeClass("filters__clear--active"):i._$btnClear.addClass("filters__clear--active")},this.checkClearBtnLabel=function(){"Reset"===i._$btnClear.text()?i._$btnClear.text("Clear search"):i._$btnClear.text("Reset")},this.removeTag=function(t){var e=$(t.currentTarget).parents(".filters__bar-tag");e.removeClass("filters__bar-tag--active"),0===$(".filters__bar-tag--active").length&&i._$btnClear.removeClass("filters__clear--active"),i.resetInput(e)},this.clearTags=function(){i._$tagsItems.removeClass("filters__bar-tag--active"),i._$btnClear.removeClass("filters__clear--active"),i.resetAllInputs()},this.toggleControls=function(){i._$controls.stop().slideToggle("fast"),i.checkClearBtnLabel(),"FILTER"===i._$btn.text()?i._$btn.text("CLOSE"):i._$btn.text("FILTER")},this._$window=$(window),this._$tagsList=$(".filters__bar-tags-list"),this._$tagsItems=$(".filters__bar-tag"),this._$controls=$(".filters__controls"),this._$tagRemove=$(".filters__bar-tag-remove"),this._$btnClear=$(".filters__clear"),this._$btn=$(".filters__bar-btn"),this._$btnSearch=$(".filters__controls-btn"),this._$allInputs=$(".filters__controls input, .filters__controls .dropdown__input-value"),this._$range=$(".range input.range"),this._$range.on("input",this.changeRangeValues),this._$tagRemove.click(this.removeTag),this._$btnClear.click(this.clearTags),this._$btn.click(this.toggleControls),this._$btnSearch.click(this.applyFilters)},Dropdown=function t(){_classCallCheck(this,t),this.toggleList=function(t){var e=$(t.currentTarget);e.parents(".dropdown-group").find(".dropdown__list").stop().slideUp("fast"),e.siblings().stop().slideToggle("fast")},this.changeValue=function(t){var e=$(t.currentTarget),i=e.text(),a=e.parents(".dropdown"),s=a.find(".dropdown__input-value");if(a.hasClass("dropdown--multi")){e.toggleClass("dropdown__list-item--active");var n="";a.find(".dropdown__list-item--active").each(function(t){var e=$(this);n+=e.text()+", "});var r=n.slice(0,-2);s.text(r),a.find(".dropdown__list-item--active").length<=0&&s.text(s.attr("data-placeholder"))}else{e.addClass("dropdown__list-item--active"),e.siblings().removeClass("dropdown__list-item--active"),s.text(i);var o=setTimeout(function(){e.parent().stop().slideToggle("fast"),clearTimeout(o)},250)}},this._$input=$(".dropdown__input"),this._$listItem=$(".dropdown__list-item"),this._$input.click(this.toggleList),this._$listItem.click(this.changeValue)},Profile=function t(){var s=this;_classCallCheck(this,t),this.toggleEdit=function(t){var e=$(t.currentTarget);e.parents(".profile__summary-edit").siblings().prop("disabled",function(t,e){return!e});var i="profile__summary-edit-icon--active";e.removeClass(i).siblings().addClass(i)},this.resizeInput=function(t){var e=$(t.currentTarget);e.val().length<=0?e.attr("size",1):e.attr("size",e.val().length)},this.requestGallery=function(){var t=s._$btnGalleryRequestedLabel.first().text();s._$btnGalleryRequested.toggleClass("profile__btn-gallery-access--active"),"Request"===t?s._$btnGalleryRequestedLabel.text("Requested"):s._$btnGalleryRequestedLabel.text("Request")},this.toggleContent=function(t){t.preventDefault();var e=$(t.currentTarget);s._$navControl.removeClass("nav__link--active"),e.addClass("nav__link--active");var i=e.parents(".nav__item").index(),a=s._$contentItem.eq(i);s._$contentItem.removeClass("profile__content-item--active"),a.addClass("profile__content-item--active")},this._$btnGalleryRequested=$("[data-profile-gallery-requested]"),this._$btnGalleryRequestedLabel=this._$btnGalleryRequested.find(".profile__btn-gallery-access-label"),this._$btnGalleryRequested.click(this.requestGallery),this._$navControl=$(".nav__link"),this._$contentItem=$(".profile__content-item"),this._$navControl.click(this.toggleContent),this._$traitInput=$(".profile__summary-editable input"),this._$traitInput.on("input",this.resizeInput),this._$traitInput.each(function(t){var e=$(this);e.attr("size",e.val().length)}),this._$traitInputEdit=$(".profile__summary-edit-icon"),this._$traitInputEdit.click(this.toggleEdit),this._$galleryBoxBtn=$(".gallery-box .btn"),this._$galleryBoxBtn.click(function(t){t.stopPropagation(),t.preventDefault()})},Chat=function t(){var i=this;_classCallCheck(this,t),this.hideChat=function(){i._$content.animate({height:i._$conversations.innerHeight()+"px"},250,"swing"),i._$messagesWrapper.removeClass("chat__message--active"),i._$conversations.removeClass("chat__conversations--hidden")},this.changeConversation=function(t){var e=$(t.currentTarget);i._$conversation.removeClass("chat__conversation--active"),e.addClass("chat__conversation--active"),i._$window.width()<768&&(i._$content.animate({height:i._$messagesWrapper.innerHeight()+"px"},250,"swing"),i._$messagesWrapper.addClass("chat__message--active"),i._$conversations.addClass("chat__conversations--hidden"))},this.deleteConversation=function(t){t.preventDefault(),t.stopPropagation();var e=$(t.currentTarget).parents(".chat__conversation");e.slideUp(250,function(){e.hasClass("chat__conversation--active")&&e.next().addClass("chat__conversation--active"),e.remove()})},this.deleteConversationFromChat=function(t){t.preventDefault();var e=$(".chat__conversation--active");e.slideUp(250,function(){e.next().addClass("chat__conversation--active"),e.remove()}),i._$window.width()<768&&i.hideChat()},this.checkInput=function(t){i._$input.val().length<=0?i._$btn.prop("disabled",!0):i._$btn.prop("disabled",!1)},this.clearInput=function(){i._$input.val(""),i._$btn.prop("disabled",!0)},this.addMessage=function(){i._$messages=$(".chat__message-content-track .simplebar-content");var t=i._$input.val(),e=$('\n            <div class="chat__message-item chat__message-item--self">\n                <div class="chat__message-item-user" style="background-image: url(\'images/woman-2.jpg\');">&nbsp;</div>\n                    <div class="chat__message-item-copy">\n                        <p>'+t+"</p>\n                    </div>\n            </div>\n        ");i._$messages.append(e),$(i._scroll).stop().animate({scrollTop:i._$messages.innerHeight()},500,"swing"),i.clearInput()},this._$window=$(window),this._$content=$(".chat__content"),this._$back=$(".chat__message-back"),this._$messagesWrapper=$(".chat__message"),this._$conversations=$(".chat__conversations"),this._$back.click(this.hideChat),this._$conversation=$(".chat__conversation"),this._$conversation.click(this.changeConversation),this._$conversationDelete=$(".chat__message-header .delete-conversation"),this._$conversationDelete.click(this.deleteConversationFromChat),this._$btnDelete=$(".chat__conversation-actions .delete-conversation"),this._$btnDelete.click(this.deleteConversation),this._$messages=$(".chat__message-content-track .simplebar-content"),this._$track=$(".chat__message-content-track"),this._$input=$(".chat__message-inputs input"),this._$input.on("input",this.checkInput),this._$btn=$(".chat__message-btn"),this._$btn.click(this.addMessage),this._el=new SimpleBar($(".chat__message-content-track")[0]),this._scroll=this._el.getScrollElement(),this._$scroll=$(this._scroll),this._$scroll.scrollTop(this._$track.innerHeight()),this._$input.keypress(function(t){13===t.keyCode&&i.addMessage()})},Account=function t(){_classCallCheck(this,t),this.checkCompletion=function(t){var e=$(t.currentTarget),i=e.siblings("input"),a=!0;0<i.length&&i.each(function(t){var e=$(this);""!==e.val()&&void 0!==e.val()&&null!==e.val()||(a=!1)}),""!==e.val()&&void 0!==e.val()&&null!==e.val()||(a=!1);var s=e.parents(".account__group-controls-form").find(".btn");a?s.prop("disabled",!1):s.prop("disabled",!0)},this._$nav=$(".account__nav"),this._$nav.scrollToFixed({limit:function(){return $(".footer").offset().top-$(".footer").innerHeight()-$(".account").css("padding-bottom").split("px")[0]},removeOffsets:!0}),this._$formInputs=$(".account__group-controls-form input"),this._$formInputs.on("input",this.checkCompletion)},SwitchManager=function t(){_classCallCheck(this,t),this.toggleContent=function(t){var e=$(t.currentTarget);if(e.hasClass("slide"))var i=e.parents(".switch"),a=setTimeout(function(){i.slideUp(250,function(){i.remove(),clearTimeout(a)})},250);else{var s=e.attr("data-switch-trigger"),n=$('[data-switch-group="'+s+'"]'),r=e.prop("checked");n.removeClass("active"),$('[data-switch-group="'+s+'"][data-switch-state="'+r+'"]').addClass("active")}},this._$input=$(".switch input"),this._$input.on("change",this.toggleContent)};$(document).ready(function(){new ScrollManager,new Header;if(0<$(".popup").length)new PopupManager;if(0<$(".testimonials").length)new Slider($(".testimonials__slider"),{slidesToShow:1,slidesToScroll:1,autoplaySpeed:5e3});if(0<$(".cards-slider").length)new Slider($(".cards-slider__list"),{mobileFirst:!0,slidesToScroll:1,slidesToShow:1,infinite:!1,centerMode:!0,variableWidth:!0,centerPadding:"5rem",autoplaySpeed:3e3,responsive:[{breakpoint:576,settings:{initialSlide:0}},{breakpoint:768,settings:{slidesToScroll:1,slidesToShow:2,centerPadding:"2.5rem"}},{breakpoint:992,settings:{slidesToScroll:1,slidesToShow:4,centerMode:!1,centerPadding:"0",variableWidth:!1}}]});if(0<$("[data-hero-state]").length){$("[data-hero-state]").click(function(t){t.preventDefault();var e=$(".hero");"login"===$(t.currentTarget).attr("data-hero-state")?e.addClass("hero--login"):e.removeClass("hero--login")})}if(0<$(".profile-cards").length){var t=$(window),e=$(".profile-cards__list").not(".profile-cards__list--no-slider"),i=!0,a=!0;e.is(".profile-cards__list--static")&&(i=!1),e.is(".profile-cards__list--finite")&&(a=!1);var s={mobileFirst:!0,slidesToScroll:1,slidesToShow:1,dots:!1,arrows:!1,centerMode:!0,infinite:a,autoplay:i,autoplaySpeed:3e3,centerPadding:"5rem",responsive:[{breakpoint:576,settings:{centerPadding:"15rem"}},{breakpoint:768,settings:"unslick"}]};e.slick(s),t.resize(function(){t.width()<768&&!e.hasClass("slick-slider")&&e.slick(s)})}if(0<$(".message-popup").length)new MessagesPopupManager;if(0<$(".favourite-popup").length)new FavouritesPopupManager;if(0<$(".notice").length)new Notice;if(0<$(".dropdown").length)new Dropdown;if(0<$(".filters, [data-filters-trigger]").length)new Filters;if(0<$(".range-tooltip").length){var c=[];$(window);$("input[type='range']").on("input",function(t){c.forEach(function(t){clearTimeout(t)});var e=$(t.currentTarget),i=e.val(),a=e.parents(".range-group").find(".range-tooltip");a.fadeIn();var s,n=0,r=e.attr("max")/e.attr("step"),o=i*r/e.attr("max");s=i/e.attr("max")*100,n=18*(o/2+1),n=o<=r/2?-n:-n+o,a.css({left:s+"%",transform:"translateX("+n+"px)"});var l=setTimeout(function(){a.fadeOut(),clearTimeout(l)},1e3);c.push(l)})}if(0<$(".profile").length)new Profile;if(0<$(".chat").length)new Chat;if(0<$(".account").length)new Account;if(0<$(".switch").length)new SwitchManager});
//# sourceMappingURL=app-dist.js.map